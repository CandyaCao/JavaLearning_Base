# JSP与Servlets基本概念阐述
* 常用服务器应用TCP端口号
    * FTP：21
    * HTTP：80
    * HTTPS：443
    * Telnet：23
    * SMTP：25
    * TIME：37
    * POP3：110
## 基本要点小结
* HTTP代表超文本传输协议，这是Web上使用的网络协议。HTTP运行在TCP/IP之上。
* HTTP使用一种请求/响应模型。客户做出一个HTTP请求，Web服务器返回一个HTTP响应，再由浏览器（根据响应的内容类型）确定如何进行处理。
* 如果来自服务器的响应是一个HTML页面，就会把HTML增加到HTTP响应中。
* HTTP请求包括请求URL（客户想要访问的资源）、HTTP方法（GET、POST等）、以及（可选）表单参数数据（也称为“查询串”）。
* HTTP响应包括一个状态码、内容类型（也称为MIME类型），以及响应的实际内容（HTML、图像等）。
* GET请求会把表单数据追加到URL的最后。
* POST请求将表单数据包括在请求的体中。
* MIME类型告诉浏览器要接收哪一类数据，以便浏览器知道如何加以处理（呈现HTML、显示图片、播放音乐等）。
* URL代表统一资源定位符。Web上的每一个资源都有自己的唯一地址，都采用这种URL格式。首先是一个协议，然后是服务器名以及一个可选的端口号，再后面通常是一个特定的路径和资源名。如果URL对应一个GET请求，那么它还可能包含一个可选的查询串。
* Web服务器擅长提供静态HTML页面，但是如果需要页面中有动态创建的数据（如当前时间），就需要某种辅助应用与服务器协作。如果不用Java术语来说，这些辅助应用（大多用Perl编写），通常称为CGI，这代表公共网关接口。
* 把HTML放在println()语句中的做法很糟糕，也很容易出错，不过JSP可以解决这个问题，它允许把Java放到HTML页面中，而不是把HTML放到Java代码中。
# Web应用体系结构
## 容器
1. 容器概念
    
        Servlet没有main()方法，他们受控于另一个Java应用，这个Java应用称为容器。
2. 容器能做什么

    1. 通信支持
    
        利用容器提供的方法，你能轻松的让servlet与Web服务器进行对话。无须自己建立ServerSocket、监听端口、创建流等。容器知道自己与Web服务器端的协议，所以你的servlet不必担Web服务器（如Apache）和你自己的Web代码之间的API。你要考虑的只是如何在servlet中实现业务逻辑。
    2. 生命周期管理

        容器控制着servlet的生与死。他会负责加载类，实例化和初始化servlet，调用servlet方法，并使servlet实例能够被垃圾回收。有了容器的控制，你就不用太多地考虑资源管理了。
    3. 多线程支持

        容器会自动地为它接收地每个servlet请求创建一个新的Java线程。针对客户的请求，如果servlet已经运行完成相应的HTTP服务方法，这个线程就会结束，即死亡。这并不是说不用考虑线程安全性，还是会遇到同步问题的。不过，由服务器创建和管理多个线程来处理多个请求，这样确实能让你少做很多工作。
    4. 声明方式实现安全

        利用容器，可以使用XML部署描述文件来配置（和修改）安全性，而不必将其硬编码写到servlet（或其他）类代码中。
    5. JSP支持

        容器负责把JSP代码翻译成真正的Java
3. 容器如何处理请求

    1. 用户点击一个链接，其URL指向一个servlet而不是静态页面。
    2. 容器“看出来”这个请求要的是一个servlet，所以容器创建两个对象：HTTPServletResponse、HTTPServletRequest。
    3. 容器根据请求中的URL找到正确的servlet，为这个请求创建或分配一个线程，并把请求和响应对象传递给这个servlet线程。
    4. 容器调用servlet的service()方法，根据请求的不同类型，service()方法会调用doGet()或doPost()方法。
    5. 以GET请求为例，doGet()方法生成动态请求页面，并把这个页面“填入”响应对象，此时，容器还有响应对象的一个引用。
    6. 线程结束，容器把响应对象转换为一个HTTP响应，把它发回给客户，然后删除请求和响应对象。

